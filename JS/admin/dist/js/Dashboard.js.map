{"version":3,"file":"Dashboard.js","sources":["../../src/views/Dashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  envFilePresent,\n  googleCredentialsPresent,\n  redisCredentialsPresent,\n  uploadENVFile,\n  uploadGoogleCredentials,\n} from '../controllers/adminSlice';\n\nimport { setMessage, setMessageType } from '../controllers/messageSlice';\n\nfunction Dashboard() {\n  const dispatch = useDispatch();\n\n  const [file, setFile] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]); // Get the selected file\n  };\n\n  const handleUploadENVFile = (e) => {\n    e.preventDefault();\n\n    if (!file) {\n      alert('Please select a file to upload');\n      return;\n    }\n\n    dispatch(uploadENVFile(file));\n  };\n\n  const handleUploadGoogleCreds = (e) => {\n    e.preventDefault();\n    dispatch(uploadGoogleCredentials());\n  };\n\n  useEffect(() => {\n    dispatch(envFilePresent());\n  }, []);\n\n  useEffect(() => {\n    dispatch(googleCredentialsPresent());\n  }, []);\n\n  useEffect(() => {\n    dispatch(redisCredentialsPresent());\n  }, []);\n\n  return (\n    <>\n      <div class=\"dashboard\">\n        <h2>Dashboard</h2>\n\n        <div className=\"upload-env\">\n          <h3>Upload ENV File</h3>\n\n          <form action=\"\">\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept=\".env\"\n              required\n            />\n            <button onClick={handleUploadENVFile} type=\"submit\" id=\"submit\">\n              Upload\n            </button>\n          </form>\n        </div>\n\n        <div class=\"google-creds\" id=\"google_creds\">\n          <h3>Google Service Account</h3>\n          <h4 id=\"google_creds_message\"></h4>\n\n          <form\n            class=\"google-creds-upload\"\n            id=\"google_creds_upload\"\n            enctype=\"multipart/form-data\">\n            <input type=\"file\" name=\"file\" id=\"file\" required />\n            <button onClick={handleUploadGoogleCreds} type=\"submit\" id=\"submit\">\n              Upload\n            </button>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Dashboard;\n"],"names":["Dashboard","dispatch","useDispatch","file","setFile","useState","handleFileChange","e","target","files","handleUploadENVFile","preventDefault","alert","uploadENVFile","handleUploadGoogleCreds","uploadGoogleCredentials","useEffect","envFilePresent","googleCredentialsPresent","redisCredentialsPresent","jsx","Fragment","children","jsxs","class","className","action","type","onChange","accept","required","onClick","id","enctype","name"],"mappings":"8GAaA,SAASA,GAAY,CACnB,MAAMC,EAAWC,IAEX,CAACC,EAAMC,CAAO,EAAIC,WAAS,IAAI,EAE/BC,EAAoBC,GAAM,CAC9BH,EAAQG,EAAEC,OAAOC,MAAM,CAAC,CAAC,GAGrBC,EAAuBH,GAAM,CAGjC,GAFAA,EAAEI,eAAe,EAEb,CAACR,EAAM,CACTS,MAAM,gCAAgC,EACtC,MACF,CAESX,EAAAY,EAAcV,CAAI,CAAC,GAGxBW,EAA2BP,GAAM,CACrCA,EAAEI,eAAe,EACjBV,EAASc,GAAyB,GAGpCC,OAAAA,EAAAA,UAAU,IAAM,CACdf,EAASgB,GAAgB,CAC3B,EAAG,CAAE,CAAA,EAELD,EAAAA,UAAU,IAAM,CACdf,EAASiB,GAA0B,CACrC,EAAG,CAAE,CAAA,EAELF,EAAAA,UAAU,IAAM,CACdf,EAASkB,GAAyB,CACpC,EAAG,CAAE,CAAA,EAIDC,EAAAA,IAAAC,EAAAA,SAAA,CAAAC,SAAAC,EAAA,KAAC,MAAI,CAAAC,MAAM,YACTF,SAAA,CAAAF,EAAA,IAAC,MAAGE,SAAS,WAAA,CAAA,EAEbC,EAAA,KAAC,MAAI,CAAAE,UAAU,aACbH,SAAA,CAAAF,EAAA,IAAC,MAAGE,SAAe,iBAAA,CAAA,EAEnBC,EAAA,KAAC,OAAK,CAAAG,OAAO,GACXJ,SAAA,CAAAF,EAAA,IAAC,QAAA,CACCO,KAAK,OACLC,SAAUtB,EACVuB,OAAO,OACPC,SAAQ,EAAA,CACV,EACAV,EAAA,IAAC,UAAOW,QAASrB,EAAqBiB,KAAK,SAASK,GAAG,SAASV,SAEhE,QAAA,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAECC,EAAA,KAAA,MAAA,CAAIC,MAAM,eAAeQ,GAAG,eAC3BV,SAAA,CAAAF,EAAA,IAAC,MAAGE,SAAsB,wBAAA,CAAA,EAC1BF,EAAA,IAAC,KAAG,CAAAY,GAAG,sBAAuB,CAAA,EAE9BT,EAAA,KAAC,OAAA,CACCC,MAAM,sBACNQ,GAAG,sBACHC,QAAQ,sBACRX,SAAA,CAACF,EAAA,IAAA,QAAA,CAAMO,KAAK,OAAOO,KAAK,OAAOF,GAAG,OAAOF,SAAQ,EAAC,CAAA,EAClDV,EAAA,IAAC,UAAOW,QAASjB,EAAyBa,KAAK,SAASK,GAAG,SAASV,SAEpE,QAAA,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EACF,CACF,CAAA,CAEJ"}