{"version":3,"file":"AccountCreate.js","sources":["../../src/views/AccountCreate.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { createAccount } from '../controllers/accountSlice';\nimport { setMessage, setMessageType } from '../controllers/messageSlice';\n\nfunction AccountCreate() {\n  const dispatch = useDispatch();\n\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    nicename: '',\n    nickname: '',\n    firstname: '',\n    lastname: '',\n    phone: '',\n  });\n\n  const { accountSuccessMessage, accountErrorMessage, accountError } =\n    useSelector((state) => state.account);\n\n  useEffect(() => {\n    if (accountSuccessMessage) {\n      dispatch(setMessage(accountSuccessMessage));\n      dispatch(setMessageType('success'));\n    }\n  }, [accountSuccessMessage]);\n\n  useEffect(() => {\n    if (accountError) {\n      dispatch(setMessage(accountError));\n      dispatch(setMessageType('error'));\n    }\n  }, [accountError]);\n\n  useEffect(() => {\n    if (accountErrorMessage) {\n      dispatch(setMessage(accountErrorMessage));\n      dispatch(setMessageType('error'));\n    }\n  }, [accountErrorMessage]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (formData.username === '') {\n      dispatch(setMessage('A username is not provided.'));\n    } else if (formData.email == '') {\n      dispatch(setMessage('An email is not provided.'));\n    } else if (formData.firstname == '') {\n      dispatch(setMessage('A first name is not provided.'));\n    } else if (formData.lastname == '') {\n      dispatch(setMessage('A last name is not provided.'));\n    } else if (formData.phone == '') {\n      dispatch(setMessage('A phone number is not provided.'));\n    } else {\n      dispatch(createAccount(formData));\n    }\n  };\n\n  return (\n    <>\n      <div>\n        <form\n          method=\"post\"\n          className=\"create-account\"\n          id=\"create_account\"\n          onSubmit={handleSubmit}>\n          <h2>Create Account</h2>\n\n          <input\n            className=\"input-username\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={formData.username}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-email\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-name\"\n            type=\"text\"\n            name=\"nicename\"\n            placeholder=\"Nice Name (eg. /nicename)\"\n            value={formData.nicename}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-name\"\n            type=\"text\"\n            name=\"nickname\"\n            placeholder=\"Nickname\"\n            value={formData.nickname}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-name\"\n            type=\"text\"\n            name=\"firstname\"\n            placeholder=\"First Name\"\n            value={formData.firstname}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-name\"\n            type=\"text\"\n            name=\"lastname\"\n            placeholder=\"Last Name\"\n            value={formData.lastname}\n            onChange={handleChange}\n          />\n          <input\n            className=\"input-phone\"\n            type=\"tel\"\n            name=\"phone\"\n            placeholder=\"Phone\"\n            value={formData.phone}\n            onChange={handleChange}\n          />\n\n          <select name=\"roles[]\" id=\"role_select_add\" multiple></select>\n\n          <input type=\"hidden\" name=\"display_name_add\" id=\"display_name_add\" />\n\n          <button onClick={handleSubmit} type=\"submit\">\n            <h3>CREATE</h3>\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default AccountCreate;\n"],"names":["AccountCreate","dispatch","useDispatch","formData","setFormData","useState","username","email","nicename","nickname","firstname","lastname","phone","accountSuccessMessage","accountErrorMessage","accountError","useSelector","state","account","useEffect","setMessage","setMessageType","handleChange","e","name","value","target","handleSubmit","preventDefault","createAccount","jsx","Fragment","children","jsxs","method","className","id","onSubmit","type","placeholder","onChange","multiple","onClick"],"mappings":"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"}