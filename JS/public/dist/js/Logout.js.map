{"version":3,"file":"Logout.js","sources":["../../src/views/Logout.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { logout } from '../controllers/logoutSlice';\n\nimport StatusBarComponent from '../../../components/StatusBarComponent';\n\nimport {\n  setMessage,\n  setMessageType,\n  setShowStatusBar\n} from '../controllers/messageSlice';\n\nfunction Logout() {\n  const dispatch = useDispatch();\n\n  const {\n    logoutSuccessMessage,\n    logoutErrorMessage,\n    logoutError,\n    logoutStatusCode\n  } = useSelector((state) => state.logout);\n\n  useEffect(() => {\n    if (logoutSuccessMessage) {\n      dispatch(setMessageType('success'));\n      dispatch(setMessage(logoutSuccessMessage));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [logoutSuccessMessage]);\n\n  useEffect(() => {\n    if (logoutErrorMessage) {\n      dispatch(setMessageType('error'));\n      dispatch(setMessage(logoutErrorMessage));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [logoutErrorMessage]);\n\n  useEffect(() => {\n    if (logoutError) {\n      dispatch(setMessageType('error'));\n      dispatch(setMessage(logoutError.message));\n      dispatch(setShowStatusBar(Date.now()));\n    }\n  }, [logoutError]);\n\n  useEffect(() => {\n    if (logoutStatusCode == 200) {\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 5000);\n    }\n  }, [logoutStatusCode]);\n\n  const handleClick = () => {\n    dispatch(logout());\n  };\n\n  return (\n    <>\n      <main className=\"logout\">\n        <button onClick={handleClick}>\n          <h3>LOG OUT</h3>\n        </button>\n\n        <StatusBarComponent />\n      </main>\n    </>\n  );\n}\n\nexport default Logout;\n"],"names":["Logout","dispatch","useDispatch","logoutSuccessMessage","logoutErrorMessage","logoutError","logoutStatusCode","useSelector","state","logout","useEffect","setMessageType","setMessage","setShowStatusBar","Date","now","message","setTimeout","window","location","href","handleClick","jsx","Fragment","children","jsxs","className","onClick","StatusBarComponent"],"mappings":"4HAaA,SAASA,GAAS,CAChB,MAAMC,EAAWC,IAEX,CACJC,qBAAAA,EACAC,mBAAAA,EACAC,YAAAA,EACAC,iBAAAA,CACE,EAAAC,EAAaC,GAAUA,EAAMC,MAAM,EAEvCC,EAAAA,UAAU,IAAM,CACVP,IACOF,EAAAU,EAAe,SAAS,CAAC,EACzBV,EAAAW,EAAWT,CAAoB,CAAC,EACzCF,EAASY,EAAiBC,KAAKC,IAAI,CAAC,CAAC,EAEzC,EAAG,CAACZ,CAAoB,CAAC,EAEzBO,EAAAA,UAAU,IAAM,CACVN,IACOH,EAAAU,EAAe,OAAO,CAAC,EACvBV,EAAAW,EAAWR,CAAkB,CAAC,EACvCH,EAASY,EAAiBC,KAAKC,IAAI,CAAC,CAAC,EAEzC,EAAG,CAACX,CAAkB,CAAC,EAEvBM,EAAAA,UAAU,IAAM,CACVL,IACOJ,EAAAU,EAAe,OAAO,CAAC,EACvBV,EAAAW,EAAWP,EAAYW,OAAO,CAAC,EACxCf,EAASY,EAAiBC,KAAKC,IAAI,CAAC,CAAC,EAEzC,EAAG,CAACV,CAAW,CAAC,EAEhBK,EAAAA,UAAU,IAAM,CACVJ,GAAoB,KACtBW,WAAW,IAAM,CACfC,OAAOC,SAASC,KAAO,KACtB,GAAI,CAEX,EAAG,CAACd,CAAgB,CAAC,EAErB,MAAMe,EAAcA,IAAM,CACxBpB,EAASQ,GAAQ,GAGnB,OAEIa,EAAAA,IAAAC,EAAAA,SAAA,CAAAC,SAAAC,EAAA,KAAC,OAAK,CAAAC,UAAU,SACdF,SAAA,CAAAF,EAAA,IAAC,UAAOK,QAASN,EACfG,SAACF,EAAA,IAAA,KAAA,CAAGE,mBAAO,CACb,CAAA,QAECI,EAAmB,CAAA,CAAA,CAAA,EACtB,CACF,CAAA,CAEJ"}