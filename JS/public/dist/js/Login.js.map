{"version":3,"file":"Login.js","sources":["../../src/views/Login.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getLocation } from \"../../../utils/Location\";\n\nimport LoginComponent from './components/LoginComponent';\nimport NavigationLoginComponent from './components/NavigationLoginComponent';\n\nfunction Login() {\n  const dispatch = useDispatch();\n\n  const { loginStatusCode, accessToken, refreshToken } = useSelector(\n    (state) => state.login\n  );\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  useEffect(() => {\n    if (accessToken && refreshToken && loginStatusCode == 200) {\n      const urlParams = new URLSearchParams(window.location.search);\n      const redirectTo = urlParams.get('redirectTo');\n\n      if (\n        localStorage.getItem('access_token') != null &&\n        localStorage.getItem('refresh_token') != null\n      ) {\n        setTimeout(() => {\n          if (redirectTo == null) {\n            window.location.href = '/dashboard';\n          } else {\n            window.location.href = redirectTo;\n          }\n        }, 5000);\n      }\n    }\n  }, [dispatch, accessToken, refreshToken, loginStatusCode]);\n\n  useEffect(() => {\n    if (loginStatusCode == 404) {\n      setTimeout(() => {\n        window.location.href = '/signup';\n      }, 5000);\n    }\n  }, [loginStatusCode]);\n\n  return (\n    <>\n      <main className=\"login\">\n        <NavigationLoginComponent page={'login'} />\n        <LoginComponent />\n      </main>\n    </>\n  );\n}\n\nexport default Login;\n"],"names":["Login","dispatch","useDispatch","loginStatusCode","accessToken","refreshToken","useSelector","state","login","useEffect","getLocation","redirectTo","URLSearchParams","window","location","search","get","localStorage","getItem","setTimeout","href","jsx","Fragment","children","jsxs","className","NavigationLoginComponent","page","LoginComponent"],"mappings":"qLAQA,SAASA,GAAQ,CACf,MAAMC,EAAWC,IAEX,CAAEC,gBAAAA,EAAiBC,YAAAA,EAAaC,aAAAA,CAAiB,EAAAC,EACpDC,GAAUA,EAAMC,KACnB,EAEAC,OAAAA,EAAAA,UAAU,IAAM,CACFC,GACd,EAAG,CAAE,CAAA,EAELD,EAAAA,UAAU,IAAM,CACV,GAAAL,GAAeC,GAAgBF,GAAmB,IAAK,CAEnD,MAAAQ,EADY,IAAIC,gBAAgBC,OAAOC,SAASC,MAAM,EAC/BC,IAAI,YAAY,EAG3CC,aAAaC,QAAQ,cAAc,GAAK,MACxCD,aAAaC,QAAQ,eAAe,GAAK,MAEzCC,WAAW,IAAM,CACXR,GAAc,KAChBE,OAAOC,SAASM,KAAO,aAEvBP,OAAOC,SAASM,KAAOT,GAExB,GAAI,CAEX,GACC,CAACV,EAAUG,EAAaC,EAAcF,CAAe,CAAC,EAEzDM,EAAAA,UAAU,IAAM,CACVN,GAAmB,KACrBgB,WAAW,IAAM,CACfN,OAAOC,SAASM,KAAO,WACtB,GAAI,CAEX,EAAG,CAACjB,CAAe,CAAC,EAIhBkB,EAAAA,IAAAC,EAAAA,SAAA,CAAAC,SAAAC,EAAA,KAAC,OAAK,CAAAC,UAAU,QACdF,SAAA,CAACF,EAAA,IAAAK,EAAA,CAAyBC,KAAM,OAAS,CAAA,QACxCC,EAAe,CAAA,CAAA,CAAA,EAClB,CACF,CAAA,CAEJ"}