import{r as t,u as G,g as I,a as n,b as l,s as r,c as _,d as z,j as s,i as H,e as J,f as K,h as d,k as O,m as Q}from"./index.js";import{N as W}from"./NavigationLoginComponent.js";import{u as X,S as Y}from"./StatusBarComponent.js";function se(){let N="signup";const[j,S]=t.useState(""),[C,v]=t.useState(""),[p,P]=t.useState(""),[g,y]=t.useState(""),[E,k]=t.useState(""),[q,b]=t.useState(""),[T,L]=t.useState(""),[U,D]=t.useState(""),[V,F]=t.useState(""),e=X(),{signupLoading:w,signupStatusCode:x,signupSuccessMessage:f,signupErrorMessage:h,accessToken:m,refreshToken:u}=G(i=>i.signup);t.useEffect(()=>{I()},[]),t.useEffect(()=>{e(n("Enter the username, email, and password of your choice to sign up.")),e(l(Date.now()))},[]),t.useEffect(()=>{w&&e(l(Date.now()))},[w]),t.useEffect(()=>{f&&(e(r("success")),e(n(f)),e(l(Date.now())))},[f]),t.useEffect(()=>{h&&(e(r("error")),e(n(h)),e(l(Date.now())))},[h]),t.useEffect(()=>{m&&u&&(e(_(m)),e(z(u)))},[e,m,u]),t.useEffect(()=>{if(m&&u&&x==200){const a=new URLSearchParams(window.location.search).get("redirectTo");setTimeout(()=>{a==null?window.location.href="/dashboard":window.location.href=a},5e3)}},[e,m,u,x]);const M=i=>{try{i.target.name=="password"&&H(i.target.value)&&(P(i.target.value),e(n("Password entered is valid.")),e(r("success")))}catch(a){e(n(a.message)),e(r("error"))}},R=i=>{try{if(i.target.name=="confirm-password"&&i.target.value==p)y(i.target.value),e(n("Passwords match.")),e(r("success"));else throw Error("Passwords do not match.")}catch(a){e(n(a.message)),e(r("error"))}},c=i=>{try{const{name:a,value:o}=i.target;a==="username"?(S(o),J(o)&&(e(n("Username is valid.")),e(r("success")))):a==="email"?(v(o),K(o)&&(e(n("Email is valid.")),e(r("success")))):a==="nicename"?(k(o),d(o)&&(e(n("Nicename is valid.")),e(r("success")))):a==="nickname"?(b(o),d(o)&&(e(n("Nickname is valid.")),e(r("success")))):a==="firstname"?(L(o),d(o)&&(e(n("First name is valid.")),e(r("success")))):a==="lastname"?(D(o),d(o)&&(e(n("Last name is valid.")),e(r("success")))):a==="phone"&&(F(o),O(o)&&(e(n("Phone number is valid.")),e(r("success"))))}catch(a){e(n(a.message)),e(r("error"))}},B={username:j,email:C,password:p,confirmPassword:g,nicename:E,nickname:q,firstname:T,lastname:U,phone:V},A=i=>{i.preventDefault(),p!==""&&g!==""&&(e(r("info")),e(n("Standby signup attempt in progress.")),e(Q(B)))};return s.jsx(s.Fragment,{children:s.jsxs("main",{className:"signup",children:[s.jsx(W,{page:N}),s.jsxs("form",{className:"signup-form",children:[s.jsxs("div",{className:"required-card card",children:[s.jsx("input",{className:"input-email",type:"email",name:"email",placeholder:"Email",onChange:c,required:!0}),s.jsx("input",{className:"input-password",type:"password",name:"password",placeholder:"Password",onChange:M,required:!0}),s.jsx("input",{className:"input-password",type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:R,required:!0})]}),s.jsxs("div",{className:"optional-card card",children:[s.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",onChange:c,required:!0}),s.jsx("input",{className:"input-name",type:"text",name:"nicename",placeholder:"Nice Name (eg. /nicename)",onChange:c,required:!0}),s.jsx("input",{className:"input-name",type:"text",name:"nickname",placeholder:"Nickname",onChange:c,required:!0})]}),s.jsxs("div",{className:"account-card card",children:[s.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",onChange:c,required:!0}),s.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",onChange:c,required:!0}),s.jsx("input",{className:"input-phone",type:"tel",name:"phone",id:"phone",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"123-456-7890",onChange:c})]}),s.jsx("button",{type:"submit",onClick:A,id:"signup_btn",children:s.jsx("h3",{children:"SIGN UP"})})]}),s.jsx(Y,{})]})})}export{se as default};
//# sourceMappingURL=Signup.js.map
